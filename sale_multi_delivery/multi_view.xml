<?xml version="1.0"?>
<openerp>
    <data>
         <!--sale.order.delivery-->
         <record model="ir.ui.view" id="view_sale_order_delivery_form">
             <field name="name">sale.order.delivery.form</field>
             <field name="model">sale.order.delivery</field>
             <field name="arch" type="xml">
                 <form string="Sale order delivery" version="7.0">        
                     <head>                         
                         <field name="state"  widget="statusbar" statusbar_visible="draft,done"/>
                     </head>
                     <sheet>
                         <group col="4" colspan="4">
                             <field name="name" /> 
                             <field name="partner_id" />
                             <field name="create_date" />
                             <field name="create_uid" />
                             <separator string="Note" colspan="4" />
                             <field name="note" colspan="4" nolabel="1" />
                         </group>
                     </sheet>        
                 </form>
             </field>
         </record>
         <record model="ir.ui.view" id="view_sale_order_delivery_tree">
             <field name="name">sale.order.delivery.tree</field>
             <field name="model">sale.order.delivery</field>
             <field name="arch" type="xml">
                 <tree string="Sale order delivery">        
                     <field name="name" /> 
                     <field name="partner_id" /> 
                     <field name="create_date" />
                     <field name="create_uid" />
                     <field name="state" />
                     <field name="note" />
                 </tree>
             </field>
         </record>
         <record model="ir.ui.view" id="view_sale_order_delivery_search">
             <field name="name">sale.order.delivery.tree</field>
             <field name="model">sale.order.delivery</field>
             <field name="arch" type="xml">
                 <search string="Sale order delivery" version="7.0">        
                     <field name="create_date" />
                     <field name="create_uid" />
                     
                     <field name="partner_id" filter_domain="[('partner_id','=',self)]"/>

                     <filter name="my_open_delivery" string="My open delivery" domain="[('create_uid', '=', uid),('state','=','draft')]"/>                     
                     <filter name="state" string="Draft state" domain="[('state','=','draft')]"/>
                     <filter name="state" string="Done state" domain="[('state','=','done')]"/>
                     
                     <group expand="0" string="Group By">
                         <filter name="group_partner" string="Partner" context="{'group_by': 'partner_id'}"/>
                         <filter name="group_state" string="Status" context="{'group_by': 'state'}" icon="terp-stock_effects-object-colorize"/>
                         <filter name="group_date" string="Date" context="{'group_by': 'crete_date'}"/>
                         <filter name="group_uid" string="User" context="{'group_by': 'crete_uid'}"/>
                     </group>                
                 </search>
             </field>
         </record>
         <record model="ir.actions.act_window" id="action_sale_order_delivery">
             <field name="name">Sale order delivery</field>
             <field name="res_model">sale.order.delivery</field>
             <field name="view_type">form</field>
             <field name="view_mode">tree,form</field>
             <field name="view_id" ref="view_sale_order_delivery_tree"/>
             <field name="search_view_id" ref="view_sale_order_delivery_search"/>
             <field name="context">{'default_my_open_delivery': True}</field>
             <field name="domain">[]</field>
         </record>
         
         <menuitem 
             parent="sale.menu_sale_order" 
             id="menu_action_sale_order_delivery" 
             action="action_sale_order_delivery"
             sequence="10"             
             />
         
    </data>
</openerp>

